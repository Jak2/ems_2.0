# Backend Environment Configuration
# Copy this file to .env and fill in your actual values

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================
# PostgreSQL connection string (recommended for production)
# Format: postgresql://username:password@host:port/database
# Example: postgresql://admin:secret@localhost:5432/cv_database
# Leave empty to use SQLite fallback (default: sqlite:///./backend_dev.db)
DATABASE_URL=

# =============================================================================
# MONGODB CONFIGURATION (for file storage via GridFS)
# =============================================================================
# MongoDB connection URI
# Format: mongodb://username:password@host:port/
# Example: mongodb://localhost:27017/
# Leave empty to use local filesystem storage fallback
MONGO_URI=

# MongoDB database name (used for GridFS storage)
# Default: cv_repo
MONGO_DB=cv_repo

# =============================================================================
# OLLAMA LLM CONFIGURATION
# =============================================================================
# Ollama model name to use for text generation
# Common options: qwen2.5:7b-instruct, llama2, mistral, codellama
# Default: qwen2.5:7b-instruct
OLLAMA_MODEL=qwen2.5:7b-instruct

# Ollama HTTP API endpoint (if using HTTP instead of CLI)
# Format: http://host:port/api/generate
# Example: http://localhost:11434/api/generate
# Leave empty to use Ollama CLI fallback
OLLAMA_API_URL=http://localhost:11434/api/generate

# =============================================================================
# APPLICATION SETTINGS
# =============================================================================
# Backend server host
# Default: 0.0.0.0 (accessible from all network interfaces)
HOST=0.0.0.0

# Backend server port
# Default: 8000
PORT=8000

# Environment mode (development, production, testing)
# Default: development
ENVIRONMENT=development

# Enable debug mode (shows detailed error messages)
# Options: true, false
# Default: true for development
DEBUG=true

# =============================================================================
# CORS CONFIGURATION
# =============================================================================
# Allowed origins for CORS (comma-separated)
# Example: http://localhost:5173,http://localhost:3000
# Default: * (allow all origins - not recommended for production)
CORS_ORIGINS=*

# =============================================================================
# FILE PROCESSING SETTINGS
# =============================================================================
# Maximum file upload size in MB
# Default: 10
MAX_UPLOAD_SIZE_MB=10

# Tesseract OCR executable path (required for OCR fallback)
# Windows example: C:\Program Files\Tesseract-OCR\tesseract.exe
# Linux/Mac: usually just 'tesseract' if installed via package manager
# Leave empty if tesseract is in PATH
TESSERACT_CMD=

# =============================================================================
# EMBEDDINGS & RAG CONFIGURATION
# =============================================================================
# Sentence transformer model for embeddings
# Default: all-MiniLM-L6-v2 (lightweight and fast)
# Other options: all-mpnet-base-v2 (better quality, slower)
EMBEDDING_MODEL=all-MiniLM-L6-v2

# Number of chunks to retrieve for RAG
# Default: 5
RAG_TOP_K=5

# Chunk size for text splitting (characters)
# Default: 500
CHUNK_SIZE=500

# Chunk overlap size (characters)
# Default: 100
CHUNK_OVERLAP=100

# =============================================================================
# LOGGING CONFIGURATION
# =============================================================================
# Log level (DEBUG, INFO, WARNING, ERROR, CRITICAL)
# Default: INFO
LOG_LEVEL=INFO

# Log file path (leave empty to disable file logging)
# Example: logs/app.log
LOG_FILE=

# =============================================================================
# SECURITY (for future production use)
# =============================================================================
# Secret key for session management and JWT tokens
# Generate with: openssl rand -hex 32
SECRET_KEY=

# JWT token expiration time in minutes
# Default: 60
JWT_EXPIRATION_MINUTES=60

# API rate limit (requests per minute per IP)
# Default: 60
RATE_LIMIT_PER_MINUTE=60
